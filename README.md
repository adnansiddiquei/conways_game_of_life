# C2: Research Computing (CW Assignment) - Conway's Game of Life
## Table of Contents
1. [Run](#run)
2. [Tests](#tests)
4. [Performance Testing](#pt)
4. [Documentation](#docs)
5. [Report](#report)

## <a name="run"></a> 1. Run `sudokusolver`
Clone the repository and then run
```bash
make all
```
in your terminal, within the root of this repo. This will build the C++ targets and place them into the `bin/` folder.

How do you run the simulation?

The below two examples are valid examples that can be run now.
```bash
# this will run a 81x81 simulation across 5 ranks, with row decomposition, over 312 generations.
mpirun -np 5 bin/main --input ./tests/test_grid_glider.txt --output ./bin/out1.txt --grid-size 81 --generations 312
```
```bash
# this will randomly generate a 150x150 grid, scatter to 6 ranks and run for 500 generations.
mpirun -np 6 bin/main --output ./bin/out2.txt --grid-size 150 --probability 0.7 --random-seed 21 --generations 500
```
Full usage documenation below:
```bash
# Usage:
#  $ mpirun -np [num_ranks] ./bin/main --file [arg] --grid-size [arg] --generations [arg]
#  $ mpirun -np [num_ranks] ./bin/main --grid-size [arg] --generations [arg] --probability [arg] [--random--seed [arg]]
#
# * --generations: (int) required. The number of generations to evolve the grid for.
# * --grid-size: (int) required. The dimensions for each square side of the entire 
#                 simulation. This must be provided in even though the grid-size
#                 can technically be inferred from the file.
# * --output: (string) required. File path to save output to.

# * --input: (string) required if --probability is not passed in. This is the file 
#           path to a .txt file containing the initial state.
# * --probability: (float, [0, 1)) required if --file is not passed in. This is 
#                 the probability of a cell being alive in the initial state when 
#                 the initial state is randomly generated.
# * --random-seed: (string) optional. Can be passed in with --probability to 
#                 make the simulation reproducible.
```

## <a name="tests"></a> 2. Tests
After running `make all` you can run `make test` and this will run the entire testing GoogleTest testing suite within the `tests/` folder.

## <a name="pt"></a> 3. Performance Testing
The `bin/` folder also contains some executables beginning with `bin/optims_...`.

These executables are derived from the code in the `src/optims/` folder. These executables do the performance testing and are where all of the timings used in the report are derived from. Running any of these executables will output a csv to the `src/plotting/` folder, where you will also find a `plots.ipynb` which has the source code for all the plots used in the report.

## <a name="docs"></a> 4. Documentation
The documentation is generated by doxygen, run:
```bash
make docs
```
And then open `docs/html/index.html` in your browser.


## <a name="report"></a> 4. Report
The report is located at [report/out/main.pdf](report/out/main.pdf).
